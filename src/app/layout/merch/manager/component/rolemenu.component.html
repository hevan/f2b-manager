<div [@routerTransition]>
    <app-page-header [heading]="'角色权限'" [icon]="'fa-th-list'"></app-page-header>
    <div class="col-xl-12">
        <div class="row mb-2">
            <div class="col-8">
                当前角色:{{roleName}}
            </div>
            <div class="col-4">
                <button class="btn btn-primary" (click)="search()">查询</button>&nbsp;<button type="button" class="btn btn-warning" (click)="toEdit()">分配菜单</button>
            </div>
        </div>
    </div>
    <div class="col-xl-12">
        <p-table [value]="listCorpRoleMenu">
            <ng-template pTemplate="header">
                <tr>
                    <th>id</th>
                    <th>code</th>
                    <th>菜单名称</th>
                    <th>路径</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td>
                        {{item.id}}
                    </td>
                    <td>
                        {{item.code}}
                    </td>
                    <td>{{item.name}}</td>
                    <td>{{item.path}}</td>
                </tr>
            </ng-template>
        </p-table>

    </div>
    <p-dialog header="分配菜单" [(visible)]="display" [modal]="true" [responsive]="true" [width]="350" [minWidth]="200" [minY]="70">

            <div class="row">
                <p-pickList [source]="listMenu" [target]="listMenuSelect">
                    <ng-template let-menu pTemplate="item">
                        <div class="ui-helper-clearfix">
                            <div style="font-size:14px;float:right;margin:15px 5px 0 0">{{menu.name}}</div>
                        </div>
                    </ng-template>
                </p-pickList>
            </div>
            <div class="row">
                <button class="btn btn-primary mr-2" type="button" (click)="submit()" >保存</button>
                <button class="btn btn-secondary" type="button" icon="fa-close" (click)="display=false">取消</button>
            </div>

    </p-dialog>
</div>
