<div class="modal-header">
    <h4 class="modal-title">定金</h4>
</div>
<div class="modal-body">
    <form (ngSubmit)="onSubmit()" [formGroup]="dataForm">

        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="idoriginBillCode">原单号</label>
                <input type="text" class="form-control" formControlName="originBillCode" id="idoriginBillCode" placeholder="">
            </div>
            <div class="form-group col-md-4">
                <label for="idoriginBillType">原单类型</label>
                <input type="text" class="form-control" formControlName="originBillType" id="idoriginBillType" placeholder="">
            </div>
            <div class="form-group col-md-4">
                <button type="button" (click)="selectPurchase()" class="btn btn-warning">选择采购单</button>
                <button type="button" (click)="selectFarm()" class="btn btn-warning">选择生产单</button>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-4">
                <label>单据编号</label>
            </div>
            <div class="form-group col-md-4">
                <input type="text" class="form-control" formControlName="billCode" id="idbillCode" placeholder="请点按钮产生单据编号">
            </div>
            <div>
                <button type="button" (click)="genBillCode()" class="btn btn-warning">产生编号</button>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="idname">付款名</label>
                <input type="text" class="form-control" formControlName="name" id="idname" placeholder="订单名">
            </div>
            <div class="form-group col-md-6">
                <label for="idbillType">单据类型</label>
                <select formControlName="billType" class="form-control" id="idbillType">
                    <option value="">请选择</option>
                    <option *ngFor="let item of listBillType" [value]="item.itemName">{{item.itemName}}</option>
                </select>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="idbillMoney">金额</label>
                <input type="text" class="form-control" formControlName="billMoney" id="idbillMoney" placeholder="单据金额">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label>付款日期</label>
                <p-calendar  inputClass="form-control" formControlName="payDateTime" placeholder="日期" dateFormat="yy-mm-dd" dataType="string" [locale]="cn"> </p-calendar>
            </div>
        </div>

        <div class="form-row">
            <div col-md-4>
                <label>收款企业</label>
            </div>
            <div class="form-group col-md-4">
                <input type="text" class="form-control" readonly formControlName="recvCorpName" id="idrecvCorpName" placeholder="请点按钮选择">
                <input type="hidden" class="form-control" formControlName="recvCorpId" id="recvCorpId">
            </div>
            <div class="form-group col-md-4">
                <button type="button" (click)="selectCorp()" class="btn btn-warning">选择企业</button>
            </div>
        </div>
       <div>
           <div class="form-row">
                <div class="form-group col-md-4">
                    <label for="idPayType">付款方式</label>
                    <select formControlName="payType" class="form-control" id="idPayType">
                        <option value="">请选择</option>
                        <option [value]="1">支付宝</option>
                        <option [value]="2">微信</option>
                        <option [value]="3">转账</option>
                    </select>
                </div>
                   <div class="form-group col-md-4">
                       <label for="idRecvAccount">收款账号</label>
                       <input type="text" class="form-control" formControlName="recvBankAccount" id="idRecvBankAccount" placeholder="">
                   </div>
                   <div class="form-group col-md-4">
                       <label for="idrecvBank">收款银行</label>
                       <input type="text" class="form-control" formControlName="recvBank" id="idrecvBank" placeholder="">
                   </div>
       </div>
       <div class="form-row">
           <div class="form-group col-md-4">
               <label for="idStatus">状态</label>
               <select formControlName="status" class="form-control" id="idStatus">
                   <option value="">请选择</option>
                   <option [value]="0">待支付</option>
                   <option [value]="1">已支付</option>
                   <option [value]="2">已确认</option>
               </select>
           </div>
       </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <p-fileUpload name="file[]" #fubauto chooseLabel="上传支付凭证" mode="basic" url="http://api.yjf2b.com/auth/v2/open/file/upload" accept="image/*" (onUpload)="onBasicUploadAuto($event)" auto="true"></p-fileUpload>
            </div>
            <div class="form-group col-md-6">
                <img *ngIf="payTransImage" [src]="payTransImage" width="100px;">
            </div>
        </div>
           <div class="form-row">
               <div class="form-group col-md-12">
                   <label>支付流水号</label>
                   <input type="text" class="form-control" formControlName="recvAccount" id="idRecvAccount" placeholder="">
               </div>
           </div>
        <div class="form-row">
            <div class="form-group col-md-6">

            </div>
            <div class="form-group col-md-6">
                <button type="submit" class="btn btn-primary">保存</button>&nbsp;
            </div>
        </div>
       </div>
    </form>
</div>

